<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HomeKart</title>

<!-- YOUR ORIGINAL CSS (UNCHANGED) -->
<style>
/* SAME CSS YOU SENT — NOT MODIFIED */
</style>
</head>

<body>

<header class="top-bar">
  <div class="logo">HomeKart</div>

  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search for products..." />
    <button id="searchBtn">Search</button>
  </div>

  <div class="header-buttons">
    <button class="btn" id="accountBtn">Login</button>
    <a href="cart.html"><button class="btn cart-btn">Cart</button></a>
  </div>
</header>

<nav class="category-bar">
  <a>Electronics</a><a>TVs</a><a>Men</a><a>Women</a>
</nav>

<div id="productsContainer"></div>

<!-- ACCOUNT POPUP -->
<div id="accountPopup" style="display:none; position:fixed; top:70px; right:20px; background:#fff; padding:15px; border-radius:6px; box-shadow:0 4px 10px rgba(0,0,0,.2)">
  <p id="userName"></p>
  <p id="userEmail"></p>
  <button id="logoutBtn">Logout</button>
</div>

<script type="module">
import { auth } from "./firebase.js";
import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.1/firebase-auth.js";

const accountBtn = document.getElementById("accountBtn");
const popup = document.getElementById("accountPopup");

onAuthStateChanged(auth, user => {
  if (user) {
    accountBtn.textContent = "Account";
    document.getElementById("userName").innerText = user.displayName || "User";
    document.getElementById("userEmail").innerText = user.email;
  } else {
    accountBtn.textContent = "Login";
  }
});

accountBtn.onclick = () => {
  if (auth.currentUser) {
    popup.style.display = popup.style.display === "block" ? "none" : "block";
  } else {
    location.href = "login.html";
  }
};

document.getElementById("logoutBtn").onclick = async () => {
  await signOut(auth);
  popup.style.display = "none";
  location.reload();
};
</script>

<script>
/* YOUR ORIGINAL PRODUCT RENDER SCRIPT — UNCHANGED */
</script>

</body>
</html>
